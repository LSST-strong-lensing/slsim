fsky: 0.0001 deg2
z_max: 5.00
m_min: 1.0E+12
m_max: 1.0E+16
z_range: !numpy.linspace
  start: 0
  stop: $z_max
  num: 1000
cosmology: !astropy.cosmology.default_cosmology.get []
wavenumber: !numpy.logspace [-3, 1, 1000]
power_spectrum: !sim_pipeline.Skypy_halos_duplicate.power_spectrum.eisenstein_hu
  wavenumber: !numpy.logspace [-3, 1, 1000]
  A_s: 2.1982e-09
  n_s: 0.969453
  cosmology: $cosmology
collapse_function: !sim_pipeline.Skypy_halos_duplicate.halos.mass.ellipsoidal_collapse_function

tables:
  halos:
        z: !sim_pipeline.Halos.halos.redshift_halos_array_from_comoving_density
          redshift_list: $z_range
          sky_area: $fsky
          cosmology: $cosmology
          m_min: $m_min
          m_max: $m_max
          resolution: 1000
          wavenumber: $wavenumber
          power_spectrum: $power_spectrum
          collapse_function: $collapse_function
          params: [0.3, 0.7, 0.3, 1.686]
        mass: !sim_pipeline.Halos.halos.halo_mass_at_z
          z: $halos.z
          cosmology: $cosmology
          m_min: $m_min
          m_max: $m_max
          resolution: 1000
          wavenumber: $wavenumber
          power_spectrum: $power_spectrum
          collapse_function: $collapse_function
          params: [0.3, 0.7, 0.3, 1.686]
  mass_sheet_correction:
         z: !sim_pipeline.Halos.halos.redshift_mass_sheet_correction_array_from_comoving_density
           redshift_list: $z_range
           sky_area: $fsky
           cosmology: $cosmology
           m_min: $m_min
           m_max: $m_max
           resolution: 1000
           wavenumber: $wavenumber
           power_spectrum: $power_spectrum
           collapse_function: $collapse_function
           params: [ 0.3, 0.7, 0.3, 1.686 ]
         kappa_ext: !sim_pipeline.Halos.halos.kappa_ext_for_each_sheet
            redshift_list: $mass_sheet_correction.z
            cosmology: $cosmology
            first_moment: !sim_pipeline.Halos.halos.mass_first_moment_at_redshift
              z: $mass_sheet_correction.z
              cosmology: $cosmology
              m_min: $m_min
              m_max: $m_max
              resolution: 1000
              wavenumber: $wavenumber
              power_spectrum: $power_spectrum
              collapse_function: $collapse_function
              params: [ 0.3, 0.7, 0.3, 1.686 ]
            sky_area: $fsky

